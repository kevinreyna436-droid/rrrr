
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Creata Collection</title>
    
    <!-- PWA / Mobile Setup -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3596/3596091.png">

    <!-- Open Graph / Social Media Sharing -->
    <meta property="og:title" content="Creata Collection">
    <meta property="og:description" content="Catálogo digital exclusivo de textiles y maderas. Explora nuestras últimas colecciones.">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Creata Collection">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              serif: ['Playfair Display', 'serif'],
            },
            colors: {
              primary: '#1a1a1a',
              secondary: '#f4f4f4',
              accent: '#d4af37', // Gold-ish
            },
            borderRadius: {
              'premium': '2.5rem',
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: rgb(241, 242, 244);
      }
      .hide-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
    <!-- CRITICAL POLYFILL & ERROR TRAP -->
    <script>
      window.process = {
        env: {
          NODE_ENV: 'development'
        }
      };
      
      // Capturador de errores global inmediato
      window.onerror = function(message, source, lineno, colno, error) {
        console.error("Critical Error:", message);
        const root = document.getElementById('root');
        if (root) {
            root.innerHTML = `
                <div style="height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:20px; font-family:sans-serif;">
                    <h1 style="color:#e11d48; font-size:24px; margin-bottom:10px;">Error de Carga</h1>
                    <p style="color:#374151; background:#f3f4f6; padding:15px; border-radius:10px; font-family:monospace; max-width:100%; overflow:auto;">${message}</p>
                    <button onclick="window.location.reload()" style="margin-top:20px; background:black; color:white; padding:10px 20px; border-radius:20px; border:none; cursor:pointer;">Reintentar</button>
                </div>
            `;
        }
      };
    </script>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react/": "https://esm.sh/react@18.2.0/",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@18.2.0/",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "firebase/app": "https://esm.sh/firebase@10.8.0/app",
    "firebase/firestore": "https://esm.sh/firebase@10.8.0/firestore",
    "firebase/storage": "https://esm.sh/firebase@10.8.0/storage",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@4.2.1",
    "vite": "https://esm.sh/vite@5.1.4",
    "firebase/": "https://esm.sh/firebase@^12.7.0/"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    
    <!-- RESCUE SCRIPT: Checks if React mounted after 3 seconds -->
    <script>
        setTimeout(function() {
            const root = document.getElementById('root');
            if (root && !root.hasChildNodes()) {
                console.error("Timeout: React did not mount.");
                root.innerHTML = `
                    <div style="height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; font-family:sans-serif; color:#4b5563;">
                        <div style="border: 4px solid #f3f3f3; border-top: 4px solid #000; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin-bottom: 20px;"></div>
                        <h2 style="font-size:18px; font-weight:600; color:black;">Iniciando Aplicación...</h2>
                        <p style="font-size:14px; margin-top:5px;">Si esto tarda mucho, verifica tu conexión.</p>
                        <style>@keyframes spin {0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }}</style>
                    </div>
                `;
            }
        }, 3000);
    </script>
  </body>
</html>
